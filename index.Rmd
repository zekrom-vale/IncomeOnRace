---
title: ""
author: "Shawn Graven"
date: "2/23/2021"
output: html_document
---

```{r, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# {.tabset}

## Setup
### Install and Attach
`installr` provides `require2`, this will install a package if it is missing and library it.  Unfortunately, `intall` is a package too, so you cannot use `require2` on it.
```{r, message = FALSE, warning = FALSE}
if(!require(installr))install.packages("installr")
library(installr)

## https://rstudio.github.io/distill/tables.html

# Provides support for HTML tables in Rmarkown
require2(rmarkdown)
require2(kableExtra)

# Contains ggplot2, dpyr, and much more
require2(tidyverse)

# Replaces `paste`
require2(glue)

# Allows animations and intractable HTML plots
require2(plotly)

# Import data from files
require2(readr)
require2(readxl)

# Mange dates
# require2(lubridate)

# Download files
require2(curl)

# Download and import EPI
require2(epidata)

# Adjust currency values for inflation
require2(priceR)
```

### Set up the Knitted table
This will automatically detect if the document is being knited and apply the provided table formatting function or `rmarkdown::paged_table` if not provided.  If `nhead` or `ntail` it will call the `head` or `tail` function respectively and limit the data.  On `0`, it will ignore it.  The default is to create a paginated table on overflow so all the data is accessible but does not take the entire screen.
```{r}
disp=function(tbl, nhead=0, ntail=0, style=paged_table){
	if(!is.function(style))style=function(t){
		kbl(t)%>%
			style()%>%
			return()
	}
	## If the code is kniting
	if(isTRUE(getOption('knitr.in.progress'))){
		if(nhead!=0)tbl=head(tbl, n=nhead)
		if(ntail!=0)tbl=tail(tbl, n=ntail)
		return(
			tbl%>%
  		style()
		)
	}
	## Otherwise just return the raw tibble to be formatted by RStudio
	return(tbl)
}
```

```{r eval=FALSE, class.source="bg-info"}
disp(mtcars)
mtcars%>%disp()
# Only output the first 20
mtcars%>%disp(nhead = 20)
# Only output the last 10
mtcars%>%disp(ntail = 10)
# Override to use the standard kbl function
mtcars%>%disp(style = function(t){
	kbl(t)%>%
			style()%>%
			return()
})
```


```{r, child='importAndClean.Rmd'}
```

```{r, child='Export.csv'}
```

```{r, child='WageoverTime.Rmd'}
```

```{r, child='WageAccordingtoJob.Rmd'}
```